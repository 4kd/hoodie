<!DOCTYPE html><html lang="en"><head><title>share</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="share"><meta name="groc-project-path" content="share.js"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path">share.js</div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="share">Share</h1></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>To showcase the share module, its settings and API, we'll take an todo app
as example. I can create multiple todo lists with it and can share these.</p></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h2 id="share-options">Share options</h2>

<ul>
<li>access     (default: false)</li>
<li>continuous (default: false)</li>
<li>password   (default: <em>no password</em>)</li>
</ul></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="theaccesssettingdefaultfalse">the <code>access</code> setting (default: false)</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>access: false (default)</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">().</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Nobody but me can access the todolist, until I make the share public</span>
<span class="cm">     or invite readers / writers to it. */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>access: true</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="p">{</span><span class="nx">access</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span> <span class="p">).</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Everybody will be able to acces and edit the todo list */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>access: [user1, user2]</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="p">{</span><span class="nx">access</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;aj@foo.com&#39;</span><span class="p">,</span> <span class="s1">&#39;bj@foo.com&#39;</span><span class="p">]}</span> <span class="p">)</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Besides me, only AJ and BJ will have access to the todolist */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>access: {read: true}</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="nx">access</span><span class="o">:</span> <span class="p">{</span><span class="nx">read</span><span class="o">:</span> <span class="kc">true</span><span class="p">}}).</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Everybody will be able to acces the todo list, but only I can edit it */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>access: {read: true, write: [user1, user2]}</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
  <span class="nx">access</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">write</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;aj@foo.com&#39;</span><span class="p">,</span> <span class="s1">&#39;bj@foo.com&#39;</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Everybody will be able to acces the todo list, </span>
<span class="cm">     but only AJ, BJ and me can edit it */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>access: {read: [user1, user2], write: [user3]}</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
  <span class="nx">access</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">read</span><span class="o">:</span>  <span class="p">[</span><span class="s1">&#39;aj@foo.com&#39;</span><span class="p">,</span> <span class="s1">&#39;bj@foo.com&#39;</span><span class="p">]</span>
    <span class="nx">write</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;cj@foo.com&#39;</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Besides me, only AJ, BJ and CJ will have access to the todolist</span>
<span class="cm">     and only CJ and me can edit it */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="thecontinuoussetting">the <code>continuous</code> setting</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>continuous: false (default)</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">().</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* I need push my changes manually */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">)</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">push</span><span class="p">()</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>continuous: true (default)</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">().</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* changes get synchronized continuously, no need to push / pull them */</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">)</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="thepasswordsetting">the <code>password</code> setting</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>password not set (default)</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="nx">access</span><span class="o">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* everybody can access the share with the share.id */</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>password set to "secret"</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="nx">access</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">password</span><span class="o">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">}).</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/* Others will need both the share.id and the password</span>
<span class="cm">     in order to access the share */</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h2 id="share-api">Share API</h2></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="share-module-methods">Share Module methods</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>direct call <br />
opens a share, gives access to its api</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">)</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>create <br />
create a new share</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>loadAll <br />
lad all my sharings</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">loadAll</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>updateAll <br />
update all my sharings</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">updateAll</span><span class="p">({</span><span class="nx">access</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">updateAll</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">access</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>deleteAll <br />
delete all my sharings</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">deleteAll</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="share-instance-methods">Share Instance methods</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>save <br />
save a share, overwrites all settings if share existed before</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">save</span><span class="p">({})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>update <br />
update an existing setting, only passed attributes get changed</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">update</span><span class="p">({})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>delete <br />
deletes a share, unshares all its objects</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="k">delete</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>add <br />
add object(s) to the share</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">add</span><span class="p">([</span><span class="nx">object1</span><span class="p">,</span> <span class="nx">object2</span><span class="p">])</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>loadAll <br />
loads all objects belonging to a store</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">loadAll</span><span class="p">()</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">loadAll</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>remove <br />
remove object(s) from the share</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">([</span><span class="nx">object1</span><span class="p">,</span> <span class="nx">object2</span><span class="p">])</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>removeAll <br />
remove all objects from the share</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">removeAll</span><span class="p">()</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">removeAll</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>push <br />
push local changes to share</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>pull <br />
pull changes from the share</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">pull</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>sync <br />
push &amp; pull changes of the share</li>
</ul></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">sync</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h2 id="use-cases">Use cases</h2>

<ol>
<li>Public Share</li>
<li>Private Share</li>
<li>Continuous Share</li>
<li>Manual Share</li>
<li>Read only Share</li>
<li>Collaborative Shares</li>
<li>Public, password protected shares</li>
<li>Listen to events in Shares</li>
</ol>

<p>To be done:</p>

<ul>
<li>Loading other users' shares</li>
<li>Subscribe to other users' shares</li>
<li>Change settings (e.g. collaborators) after the share has been created</li>
<li>Differentiate between anonymous users and users with accounts?</li>
<li>user group access?</li>
</ul></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-1-public-share">Usecase 1: Public Share</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Let's say I've a todolist that I want to share 
publicly with others with an secret URL. First we add the todolist
(by passing an object with the respective type &amp; id) and the we
push the todolist will be available to others at the secret URL</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="kr">public</span><span class="o">:</span> <span class="kc">true</span><span class="p">})</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">share_url</span> <span class="o">=</span> <span class="s2">&quot;http://mytodoapp.com/shared/&quot;</span> <span class="o">+</span> <span class="nx">share</span><span class="p">.</span><span class="nx">id</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Share your todolist at &quot;</span> <span class="o">+</span> <span class="nx">share_url</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-2-private-share">Usecase 2: Private Share</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Let's say I've another todolist that I want to share only 
with my collegues aj@example.com and bj@example.com. I want the todolist to
to be accessible for AJ, BJ and myself only.</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="kr">public</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;aj@example.com&quot;</span><span class="p">,</span> <span class="s2">&quot;bj@example.com&quot;</span><span class="p">]})</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">)</span>

  <span class="nx">share_url</span> <span class="o">=</span> <span class="s2">&quot;http://mytodoapp.com/shared/&quot;</span> <span class="o">+</span> <span class="nx">share</span><span class="p">.</span><span class="nx">id</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;AJ and BJ can access the todolist at &quot;</span> <span class="o">+</span> <span class="nx">share_url</span><span class="p">)</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-3-continuous-share">Usecase 3: Continuous Share</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>If you don't want to manually pull and push changes of shared objects, you
can set the share to be continuous. </p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="p">{</span><span class="nx">continuous</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span> <span class="p">)</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">){</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>added todolists will be synched right away</li>
</ul></div></div><div class="code"><div class="wrapper">  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">todolist</span><span class="p">)</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>changes to added todolists will be synched right away</li>
</ul></div></div><div class="code"><div class="wrapper">  <span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">localStore</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">todolist</span><span class="p">,</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;new name&quot;</span><span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><ul>
<li>removed docs will be removed from the share right away</li>
</ul></div></div><div class="code"><div class="wrapper">  <span class="nx">share</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">todolist</span><span class="p">)</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-4-manual-share">Usecase 4: Manual Share</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Manual share means you have to manually push and pull changes of shared
objects, it's the default behavior. Each of the following methods returns
a promise</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">push</span><span class="p">()</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">pull</span><span class="p">()</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">sync</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-5-read-only-share">Usecase 5: Read only Share</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Shares are read only be default. This means others can see the shared
objects (if they have access), but they cannot make changes to them, or 
to be precise, they cannot push their local changes</p></div></div><div class="code"><div class="wrapper"><span class="cm">/* will fail for other users */</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span> <span class="s2">&quot;share_id&quot;</span> <span class="p">).</span><span class="nx">push</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-6-collaborative-shares">Usecase 6: Collaborative Shares</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>If I want to invite others to collaborate on my objects, I need to set the
collaborative setting to true</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="p">{</span><span class="nx">collaborative</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span> <span class="p">)</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">share</span><span class="p">){</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>others will be able to push their changes on the todolist and its todos</p></div></div><div class="code"><div class="wrapper">  <span class="nx">share</span><span class="p">.</span><span class="nx">add</span><span class="p">([</span><span class="nx">todolist</span><span class="p">,</span> <span class="nx">todo1</span><span class="p">,</span> <span class="nx">todo2</span><span class="p">,</span> <span class="nx">todo3</span><span class="p">]).</span><span class="nx">push</span><span class="p">()</span> 
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-7-public-password-protected-shares">Usecase 7: Public, password protected shares</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>I can optionally assign a password to a share that needs to be provided by
others when trying to accessing it:</p></div></div><div class="code"><div class="wrapper"><span class="cm">/* me */</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span> <span class="p">{</span> 
  <span class="nx">acess</span>    <span class="o">:</span><span class="kc">true</span><span class="p">,</span> 
  <span class="nx">password</span> <span class="o">:</span> <span class="s2">&quot;secret&quot;</span>
<span class="p">}).</span><span class="nx">push</span><span class="p">()</span>

<span class="cm">/* they */</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span> <span class="s2">&quot;mytodolist123&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">password</span><span class="o">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">}</span> <span class="p">)</span>
<span class="p">.</span><span class="nx">loadAll</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;welcome to my todolist!&quot;</span><span class="p">)</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usecase-8-subscribing-to-events-in-shares">Usecase 8: Subscribing to events in Shares</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>I can open a share and listen to changes of its containing objects</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;changed&#39;</span><span class="p">,</span>        <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;changed:type&#39;</span><span class="p">,</span>   <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;created&#39;</span><span class="p">,</span>        <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;created:type&#39;</span><span class="p">,</span>   <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;updated&#39;</span><span class="p">,</span>        <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;updated:type&#39;</span><span class="p">,</span>   <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;destroyed&#39;</span><span class="p">,</span>      <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">my</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s1">&#39;shared_id&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;destroyed:type&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*...*/</span> <span class="p">})</span></div></div></div></div></body></html>