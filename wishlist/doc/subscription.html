<!DOCTYPE html><html lang="en"><head><title>subscription</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="subscription"><meta name="groc-project-path" content="subscription.js"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path">subscription.js</div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="hoodie-subscription-module">hoodie Subscription module</h1></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>I can subscribe to a store. It can be used just like <code>hoodie.open</code>, 
with the difference that an internal $subscription object will be 
added to my store. This allows me to get a list of all stores
I've access to.</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">subscription</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;store/123&quot;</span><span class="p">)</span>

<span class="cm">/* or */</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span> <span class="s2">&quot;store/123&quot;</span> <span class="p">).</span><span class="nx">subscribe</span><span class="p">()</span>

<span class="nx">hoodie</span><span class="p">.</span><span class="nx">share</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">()</span>
<span class="nx">hoodie</span><span class="p">.</span><span class="nx">user</span><span class="p">(</span><span class="s2">&quot;janl&quot;</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>unsubscribing works the same way</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">user</span><span class="p">(</span><span class="s2">&quot;janl&quot;</span><span class="p">).</span><span class="nx">unsubscribe</span><span class="p">()</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>I can pass options when creating a subscription, like a password for 
protected shares</p></div></div><div class="code"><div class="wrapper"><span class="nx">hoodie</span><span class="p">.</span><span class="nx">subscription</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;share_id&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">password</span><span class="o">:</span> <span class="s2">&quot;secret&quot;</span>
<span class="p">})</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>this will result in an object like this:</p></div></div><div class="code"><div class="wrapper"><span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;store_name&quot;</span><span class="p">,</span>
  <span class="nx">$type</span><span class="o">:</span> <span class="s2">&quot;$subscription&quot;</span><span class="p">,</span>
  <span class="nx">password</span><span class="o">:</span> <span class="s2">&quot;secret&quot;</span>
<span class="p">}</span></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h2 id="thoughts">Thoughts</h2></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>First of all, I'm not sure if subscribtion is the right word,
as it's not only about receiving objects, but also pushing objects
to the remote store I've subscribed to.</p>

<p>Next thing are shares: When I create a share, I automatically
subscribe to it as well. Does that mean two objects get created
when I create a share ($share &amp; $subscription), or is one object
sufficient? Maybe $share &amp; $subscription can somehow be combined
into one object? Something like $access? I dunno ...</p>

<p>To get things started, I want create extra $subscription objects
when creating a new share. Manual subscription to other users shares
or public stores can be added and removed manually. There won't 
be any options, for now, they'll always be syncing continuously.</p></div></div></div></div></body></html>