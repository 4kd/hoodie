// Generated by CoffeeScript 1.3.1

define('hoodie/config', function() {
  var Config;
  return Config = (function() {

    Config.name = 'Config';

    Config.prototype.namespace = 'hoodie';

    Config.prototype.cache = {};

    function Config(hoodie, options) {
      var _this = this;
      this.hoodie = hoodie;
      if (options == null) {
        options = {};
      }
      if (options.namespace) {
        this.namespace = options.namespace;
      }
      this.hoodie.store.load('$config', this.namespace).done(function(obj) {
        return _this.cache = obj;
      });
    }

    Config.prototype.set = function(key, value) {
      var update;
      update = {};
      update[key] = value;
      this.hoodie.store.update("$config", this.namespace, update);
      return this.cache[key] = value;
    };

    Config.prototype.get = function(key) {
      if (this.cache[key]) {
        return this.cache[key];
      }
    };

    Config.prototype.remove = Config.prototype.set;

    return Config;

  })();
});
